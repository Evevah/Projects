
<?php
$db_hostname = "127.0.0.1";
$db_username = "root";
$db_password = "";
$db_name = "users";

// Create a connection
$conn = mysqli_connect($db_hostname, $db_username, $db_password, $db_name);

// Check the connection
if (!$conn) {
  die("Connection failed: " . mysqli_connect_error());
}

// Check if POST data is set and sanitize inputs
if (isset($_POST['username'], $_POST['email'], $_POST['password'])) {
  $name = mysqli_real_escape_string($conn, $_POST['username']);
  $email = mysqli_real_escape_string($conn, $_POST['email']);
  $password = password_hash($_POST['password'], PASSWORD_BCRYPT); // Hash the password

  // Prepare and execute the SQL statement
  $sql = "INSERT INTO information (username, email, PW) VALUES ('$name', '$email', '$password')";
  $result = mysqli_query($conn, $sql);

  if (!$result) {
    echo "Error: " . mysqli_error($conn);
  } else {
    echo "Registration successful";
  }

  mysqli_close($conn);
} else {
  echo "Something's not quite right...";
}
?>


<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <title>Savoury secrerts</title>
</head>

<body class="bg-warning" style=" background-image:url('Loginpage2.jpg');background-repeat:no-repeat">
  <form method="post" action ="apna.php">
    
  
 


  <h1 align="center" style="color:white;font-size:85px">Savoury Secrets</h1>
  <h1 align="center" style="color:white;font-size:40px">Step into a world of amazing culinary wonders.</h1>


  

 
 
  
  <div class="container text-center">
    <div class="bg-warning p-2 text-dark bg-opacity-50" style="background-image:var(--bs-gradient)">
      
      <div class="col" style="height:500px">
        <br>
        <h3 style="color:white;font-size:40px">Registeration</h3>
        <br>
        
      <div class="container text-center">
        <div class="row" style="height:79px">
          <div class="col">
            
          </div>
          <div class="col-8" >
            
            <div>
              <label for="exampleFormControlInput1" class="form-label" style="color:black;font-weight:bold;font-size: 16px;">UserName</label>
              <input type="text" class="form-control" id="exampleFormControlInput2" name="name" placeholder="FirstName-LastName">
            </div>
            
          </div>
          <div class="col">
            
          </div>
        </div>
      </div>
      <br>
      
      <div class="container text-center">
        <div class="row" style="height:110px">
          <div class="col">
            
          </div>
          <div class="col-8">
            
            <label for="inputPassword5" class="form-label" style="color:black;font-weight:bold;font-size: 16px;">Password</label>
            <input type="password" id="inputPassword5" name="password" class="form-control" aria-describedby="passwordHelpBlock">
            <div id="passwordHelpBlock" class="form-text" style="color:black;font-weight:bold;font-size:10px">
              Your password must be 8-20 characters long.
            </div>
            
            
          </div>
          <div class="col">
            
          </div>
        </div>
      </div>

      <div class="container text-center">
        <div class="row" style="height:79px">
          <div class="col">
            
          </div>
          <div class="col-8" >
            
            <div>
              <label for="exampleFormControlInput1" class="form-label" style="color:black;font-weight:bold;font-size: 16px;">Email address</label>
              <input type="email" name="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
            </div>
            
          </div>
          <div class="col">
            
          </div>
        </div>
      </div>


      <div class="container text-center">
        <div class="row" style="height:110px">
          <div class="col">
            
          </div>
          <div class="col-8">
            
            <div class="container text-center">
        <div class="row" style="height:110px">
          <div class="col">
            
          </div>
          <div class="col-8">
            
            <div class="col-auto">
              <button type="submit" class="btn btn-warning mb-3 position-absolute top-100 start-50 translate-middle btn-lg" >Register</button>
            </div>
            
            
          </div>
          <div class="col">
            
          </div>
        </div>
      </div>

      <div class="position-absolute bottom-0 end-0">
        <a href="C:\xampp\htdocs\project\Login_Page.html" style="color:white;font-size:30px;font-weight:bold">Already a part? Click here to login!!</a>
      </div>
      
      
</form>


<?php
$db_hostname="127.0.0.1";
$db_username="root";
$db_password="";
$db_name="users";

$conn=mysqli_connect($db_hostname,$db_username,$db_password,$db_name);

if(!$conn)
{
  echo "Connection failed: ".mysqli_connect_error();
  exit;
}
if(isset($name) || isset($email) || isset($password))
{
  $name=$_POST['name'];
  $email=$_POST['email'];
  $password=$_POST['password'];

  $sql="INSERT INTO information(username,email,PW) VALUES('$name','$email','$password')";

  $result=mysqli_query($conn,$sql);
  if(!$result){
  echo"Error".mysqli_error ($conn);
  exit;
  }

  echo "Registration successful";
  mysqli_close ($conn);

}

?>

     
            
          
  
  <script src="https://kit.fontawesome.com/ee0769731c.js" crossorigin="anonymous"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>

</html>